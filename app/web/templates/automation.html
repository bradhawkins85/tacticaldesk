{% extends "base.html" %}
{% block header_actions %}
<button class="primary-button" type="button" data-action="launch-runbook">Launch runbook</button>
<button class="secondary-button" type="button" data-action="view-logs">View logs</button>
{% endblock %}
{% block content %}
<section class="panel automation-update">
  <header class="panel__header">
    <div>
      <h2>Lifecycle automation</h2>
      <p>Securely execute platform maintenance jobs without leaving the control tower.</p>
    </div>
  </header>
  <div class="panel__body">
    <div class="automation-update__actions">
      <button
        class="primary-button"
        type="button"
        data-action="maintenance-run"
        data-endpoint="/maintenance/update"
        data-output="#automation-update-output"
      >
        Run secure update
      </button>
      <p class="automation-update__help">
        Uses the hardened update script to pull vetted releases, install dependencies, run migrations, and restart
        services. Requests respect the installer lock so only authorized operators can trigger execution.
      </p>
    </div>
    <div class="log-console" aria-live="polite">
      <h3>Update status</h3>
      <pre id="automation-update-output">Awaiting update commandâ€¦</pre>
    </div>
  </div>
</section>
{% endblock %}
